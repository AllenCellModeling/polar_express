

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>polar_express.steps.compute_cell_metrics package &mdash; polar_express 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="polar_express.steps.gather_test_visualize package" href="polar_express.steps.gather_test_visualize.html" />
    <link rel="prev" title="polar_express.steps package" href="polar_express.steps.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> polar_express
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#stable-release">Stable release</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sources">From sources</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Package modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="polar_express.html">polar_express package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="polar_express.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="polar_express.bin.html">polar_express.bin package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="polar_express.steps.html">polar_express.steps package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="polar_express.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="polar_express.html#module-polar_express.definitions">polar_express.definitions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="polar_express.html#module-polar_express">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#deploying">Deploying</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">polar_express</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">polar_express</a> &raquo;</li>
        
          <li><a href="polar_express.html">polar_express package</a> &raquo;</li>
        
          <li><a href="polar_express.steps.html">polar_express.steps package</a> &raquo;</li>
        
      <li>polar_express.steps.compute_cell_metrics package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/polar_express.steps.compute_cell_metrics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="polar_express.steps.gather_test_visualize.html" class="btn btn-neutral float-right" title="polar_express.steps.gather_test_visualize package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="polar_express.steps.html" class="btn btn-neutral float-left" title="polar_express.steps package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="polar-express-steps-compute-cell-metrics-package">
<h1>polar_express.steps.compute_cell_metrics package<a class="headerlink" href="#polar-express-steps-compute-cell-metrics-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.FoldChangeFunctions">
<span id="polar-express-steps-compute-cell-metrics-foldchangefunctions-module"></span><h2>polar_express.steps.compute_cell_metrics.FoldChangeFunctions module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.FoldChangeFunctions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.FoldChangeFunctions.findFoldChange_AB">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.FoldChangeFunctions.</code><code class="sig-name descname">findFoldChange_AB</code><span class="sig-paren">(</span><em class="sig-param">masked_channels</em>, <em class="sig-param">z_metrics</em>, <em class="sig-param">vol_scale_factor</em>, <em class="sig-param">mode='quadrants'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/FoldChangeFunctions.html#findFoldChange_AB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.FoldChangeFunctions.findFoldChange_AB" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method that finds and returns, for each of the cell sections, the fold change
of the proportion of gfp intensity to cytoplasm volume, as well as the corresponding
cytoplasm volume and gfp intensity data. Takes the image with which to find the fold
change as input. If mode = ‘quadrants’, makes computations based on the cell being
divided into 4 vertical quadrants. If mode = ‘hemispheres’, makes computations based
on the cell being divided into 2 vertical quadrants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masked_channels</strong> (<em>dictionary containing the dna, membrane, and gfp channels, as</em>) – well as their segmentation channels.</p></li>
<li><p><strong>z_metrics</strong> (<em>dictionary containing the z-values of the boundaries between the AB</em>) – compartments, as well as the coordinates of the nuclar centroid.</p></li>
<li><p><strong>vol_scale_factor</strong> (<em>int representing the multiplication factor to get from pixel</em>) – volume to real volume.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – “quadrants” if AB compartments should split the cell into quadrants,
“hemispheres” if AB compartments should split the cell into halves.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cyto_vol</strong> (<em>numpy array, where cyto_vol[i] is the total number of voxels between</em>) – dna_seq and mem_seq for section “i”</p></li>
<li><p><strong>gfp_intensities</strong> (<em>numpy array, where gfp_intensities[i] is the total summed</em>) – intensity of gfp channel for section “i”</p></li>
<li><p><strong>fold_changes</strong> (<em>numpy array, where fold_changes[i] is the fold change of GFP</em>) – intensity over cytoplasm volume for section “i”</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.FoldChangeFunctions.findFoldChange_Angular">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.FoldChangeFunctions.</code><code class="sig-name descname">findFoldChange_Angular</code><span class="sig-paren">(</span><em class="sig-param">masked_channels</em>, <em class="sig-param">z_metrics</em>, <em class="sig-param">vol_scale_factor</em>, <em class="sig-param">num_sections</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/FoldChangeFunctions.html#findFoldChange_Angular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.FoldChangeFunctions.findFoldChange_Angular" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method that finds and returns, for each of the cell sections, the fold change
of the proportion of gfp intensity to cytoplasm volume, as well as the corresponding
cytoplasm volume and gfp intensity data. Takes the image with which to find the fold
change as input. Divides the cell into “num_sections” equal-sized angular
compartments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>masked_channels</strong> (<em>dictionary containing the dna, membrane, and gfp channels, as</em>) – well as their segmentation channels.</p></li>
<li><p><strong>z_metrics</strong> (<em>dictionary containing the z-values of the boundaries between the AB</em>) – compartments, as well as the coordinates of the nuclar centroid.</p></li>
<li><p><strong>vol_scale_factor</strong> (<em>int representing the multiplication factor to get from pixel</em>) – volume to real volume.</p></li>
<li><p><strong>num_sections</strong> (<em>int</em>) – The number of equal-size angles the cell should be split into for the angular
compartment analysis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cyto_vol</strong> (<em>numpy array, where cyto_vol[i] is the total number of voxels between</em>) – dna_seq and mem_seq for section “i”</p></li>
<li><p><strong>gfp_intensities</strong> (<em>numpy array, where gfp_intensities[i] is the total summed</em>) – intensity of gfp channel for section”i”</p></li>
<li><p><strong>fold_changes</strong> (<em>numpy array, where fold_changes[i] is the fold change of GFP</em>) – intensity over cytoplasm volume for section “i”</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.applySegmentationMasks">
<span id="polar-express-steps-compute-cell-metrics-applysegmentationmasks-module"></span><h2>polar_express.steps.compute_cell_metrics.applySegmentationMasks module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.applySegmentationMasks" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.applySegmentationMasks.applySegmentationMasks">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.applySegmentationMasks.</code><code class="sig-name descname">applySegmentationMasks</code><span class="sig-paren">(</span><em class="sig-param">im</em>, <em class="sig-param">channel_indices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/applySegmentationMasks.html#applySegmentationMasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.applySegmentationMasks.applySegmentationMasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies each availible segmentation mask to the corresponding channel.
Takes an image (in the form of a 4-dimensional matrix) as input and returns the dna,
membrane, and gfp channels after the segmentation has been applied to the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> (<em>image to be segmented, in the form of a 4D numpy array</em>)</p></li>
<li><p><strong>channel_indices</strong> (<em>dictionary mapping the channels to their indices</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>seg_dna</strong> (<em>segmented DNA channel</em>)</p></li>
<li><p><strong>seg_mem</strong> (<em>segmented cell membrane channel</em>)</p></li>
<li><p><strong>seg_gfp</strong> (<em>segmented GFP channel</em>)</p></li>
<li><p><strong>dna</strong> (<em>unsegmented DNA channel</em>)</p></li>
<li><p><strong>mem</strong> (<em>unsegmented cell membrane channel</em>)</p></li>
<li><p><strong>gfp</strong> (<em>unsegmented GFP channel</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.computeVoxelMatrix">
<span id="polar-express-steps-compute-cell-metrics-computevoxelmatrix-module"></span><h2>polar_express.steps.compute_cell_metrics.computeVoxelMatrix module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.computeVoxelMatrix" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.computeVoxelMatrix.compute_voxel_matrix">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.computeVoxelMatrix.</code><code class="sig-name descname">compute_voxel_matrix</code><span class="sig-paren">(</span><em class="sig-param">scale_factors</em>, <em class="sig-param">centroid</em>, <em class="sig-param">masked_channels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/computeVoxelMatrix.html#compute_voxel_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.computeVoxelMatrix.compute_voxel_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.compute_cell_metrics">
<span id="polar-express-steps-compute-cell-metrics-compute-cell-metrics-module"></span><h2>polar_express.steps.compute_cell_metrics.compute_cell_metrics module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.compute_cell_metrics" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="polar_express.steps.compute_cell_metrics.compute_cell_metrics.ComputeCellMetrics">
<em class="property">class </em><code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.compute_cell_metrics.</code><code class="sig-name descname">ComputeCellMetrics</code><span class="sig-paren">(</span><em class="sig-param">direct_upstream_tasks: List[Step] = [&lt;class 'polar_express.steps.select_data.select_data.SelectData'&gt;], config: Union[str, pathlib.Path, Dict[str, str], None] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/compute_cell_metrics.html#ComputeCellMetrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.compute_cell_metrics.ComputeCellMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datastep.step.Step</span></code></p>
<dl class="method">
<dt id="polar_express.steps.compute_cell_metrics.compute_cell_metrics.ComputeCellMetrics.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">selected_cells_manifest: Optional[pathlib.Path] = None</em>, <em class="sig-param">filepath_column: str = 'filepath'</em>, <em class="sig-param">AB_mode='quadrants'</em>, <em class="sig-param">num_angular_compartments=8</em>, <em class="sig-param">distributed_executor_address: Optional[str] = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/compute_cell_metrics.html#ComputeCellMetrics.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.compute_cell_metrics.ComputeCellMetrics.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cell metrics</p>
<dl class="simple">
<dt>distributed_executor_address: Optional[str]</dt><dd><p>An optional executor address to pass to some computation engine.</p>
</dd>
<dt>clean: bool</dt><dd><p>Should the local staging directory be cleaned prior to this run.
Default: False (Do not clean)</p>
</dd>
<dt>debug: bool</dt><dd><p>A debug flag for the developer to use to manipulate how much data runs,
how it is processed, etc.
Default: False (Do not debug)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selected_cells_manifest</strong> (<em>Optional[Path]</em>) – Path to manifest file that contains a path to a CSV file with annotation of
selected cells
Default: self.step_local_staging_dir.parent / selectdata / manifest.csv</p></li>
<li><p><strong>filepath_column</strong> (<em>str</em>) – If providing a path to a csv manifest, the column to use for matrices.
Default: “filepath”</p></li>
<li><p><strong>AB_mode</strong> (<em>str</em>) – “quadrants” if AB compartments should split the cell into quadrants,
“hemispheres” if AB compartments should split the cell into halves.</p></li>
<li><p><strong>num_angular_compartments</strong> (<em>int</em>) – The number of equal-size angles the cell should be split into for the
angular compartment analysis.</p></li>
<li><p><strong>distributed_executor_address</strong> (<em>Optional[str]</em>) – An optional executor address to pass to some computation engine.
Default: None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cell_metrics_manifest</strong> – Path to manifest file that contains paths to compute metrics for each of the
selected cells</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.findVerticalCutoffs">
<span id="polar-express-steps-compute-cell-metrics-findverticalcutoffs-module"></span><h2>polar_express.steps.compute_cell_metrics.findVerticalCutoffs module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.findVerticalCutoffs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.findVerticalCutoffs.findVerticalCutoffs">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.findVerticalCutoffs.</code><code class="sig-name descname">findVerticalCutoffs</code><span class="sig-paren">(</span><em class="sig-param">im</em>, <em class="sig-param">masked_channels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/findVerticalCutoffs.html#findVerticalCutoffs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.findVerticalCutoffs.findVerticalCutoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method that finds the z-coordinate (height level) of the top of the cell, top
of the nucleus, centroid of the nucleus, bottom of the nucleus, and bottom of the
cell. Takes an image as a 4-dimensional matrix as input, and returns these values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> (<em>image of the cell to be analyzed, in the form of a 4D numpy array.</em>)</p></li>
<li><p><strong>masked_channels</strong> (<em>dictionary containing the dna, membrane, and gfp channels, as</em>) – well as their segmentation channels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>bot_of_cell</strong> (<em>z-coordinate of bottom-most cell membrane voxel</em>)</p></li>
<li><p><strong>bot_of_nucleus</strong> (<em>z-coordinate of bottom-most nucleus voxel</em>)</p></li>
<li><p><strong>centroid_of_nucleus</strong> (<em>tuple respresenting coordinates of centroid of nucleus in the</em>) – form (z,y,x)</p></li>
<li><p><strong>top_of_nucleus</strong> (<em>z-coordinate of top-most nucleus voxel</em>)</p></li>
<li><p><strong>top_of_cell</strong> (<em>z-coordinate of top-most cell membrane voxel</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics.metricsDict">
<span id="polar-express-steps-compute-cell-metrics-metricsdict-module"></span><h2>polar_express.steps.compute_cell_metrics.metricsDict module<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics.metricsDict" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="polar_express.steps.compute_cell_metrics.metricsDict.computeMetricsDict">
<code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.metricsDict.</code><code class="sig-name descname">computeMetricsDict</code><span class="sig-paren">(</span><em class="sig-param">selected_cell</em>, <em class="sig-param">cell_metrics_dir</em>, <em class="sig-param">AB_mode</em>, <em class="sig-param">num_angular_compartments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/metricsDict.html#computeMetricsDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.metricsDict.computeMetricsDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to compute and save cell metrics dictionary for 3D input cell image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selected_cell</strong> (<em>Pandas Series object with information about the selected cell</em>)</p></li>
<li><p><strong>cell_metrics_dir</strong> (<em>Path to folder where the computed cell metrics dictionary</em>) – should be stored</p></li>
<li><p><strong>AB_mode</strong> (<em>str</em>) – “quadrants” if AB compartments should split the cell into quadrants,
“hemispheres” if AB compartments should split the cell into halves.</p></li>
<li><p><strong>num_angular_compartments</strong> (<em>int</em>) – The number of equal-size angles the cell should be split into for the
angular compartment analysis.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pfile</strong> – Path to the pickle file of the computed cell metrics dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-polar_express.steps.compute_cell_metrics">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-polar_express.steps.compute_cell_metrics" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="polar_express.steps.compute_cell_metrics.ComputeCellMetrics">
<em class="property">class </em><code class="sig-prename descclassname">polar_express.steps.compute_cell_metrics.</code><code class="sig-name descname">ComputeCellMetrics</code><span class="sig-paren">(</span><em class="sig-param">direct_upstream_tasks: List[Step] = [&lt;class 'polar_express.steps.select_data.select_data.SelectData'&gt;], config: Union[str, pathlib.Path, Dict[str, str], None] = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/compute_cell_metrics.html#ComputeCellMetrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.ComputeCellMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">datastep.step.Step</span></code></p>
<dl class="method">
<dt id="polar_express.steps.compute_cell_metrics.ComputeCellMetrics.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">selected_cells_manifest: Optional[pathlib.Path] = None</em>, <em class="sig-param">filepath_column: str = 'filepath'</em>, <em class="sig-param">AB_mode='quadrants'</em>, <em class="sig-param">num_angular_compartments=8</em>, <em class="sig-param">distributed_executor_address: Optional[str] = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/polar_express/steps/compute_cell_metrics/compute_cell_metrics.html#ComputeCellMetrics.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polar_express.steps.compute_cell_metrics.ComputeCellMetrics.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cell metrics</p>
<dl class="simple">
<dt>distributed_executor_address: Optional[str]</dt><dd><p>An optional executor address to pass to some computation engine.</p>
</dd>
<dt>clean: bool</dt><dd><p>Should the local staging directory be cleaned prior to this run.
Default: False (Do not clean)</p>
</dd>
<dt>debug: bool</dt><dd><p>A debug flag for the developer to use to manipulate how much data runs,
how it is processed, etc.
Default: False (Do not debug)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selected_cells_manifest</strong> (<em>Optional[Path]</em>) – Path to manifest file that contains a path to a CSV file with annotation of
selected cells
Default: self.step_local_staging_dir.parent / selectdata / manifest.csv</p></li>
<li><p><strong>filepath_column</strong> (<em>str</em>) – If providing a path to a csv manifest, the column to use for matrices.
Default: “filepath”</p></li>
<li><p><strong>AB_mode</strong> (<em>str</em>) – “quadrants” if AB compartments should split the cell into quadrants,
“hemispheres” if AB compartments should split the cell into halves.</p></li>
<li><p><strong>num_angular_compartments</strong> (<em>int</em>) – The number of equal-size angles the cell should be split into for the
angular compartment analysis.</p></li>
<li><p><strong>distributed_executor_address</strong> (<em>Optional[str]</em>) – An optional executor address to pass to some computation engine.
Default: None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cell_metrics_manifest</strong> – Path to manifest file that contains paths to compute metrics for each of the
selected cells</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, William Chen

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>